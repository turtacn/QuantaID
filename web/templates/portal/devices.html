{{ define "content" }}
<div class="card">
    <div class="card-header">
        <h2>Your Devices</h2>
        <p class="text-muted">Manage your active sessions.</p>
    </div>
    <div class="card-body">
        {{ if .Data.Sessions }}
        <div class="list-group">
            {{ range .Data.Sessions }}
            <div class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <h5 class="mb-1">
                        {{ .Browser }} on {{ .OS }} ({{ .Device }})
                        {{ if .Current }}<span class="badge badge-primary">Current</span>{{ end }}
                    </h5>
                    <p class="mb-1">IP: {{ .IPAddress }}</p>
                    <small class="text-muted">Last Active: {{ .LastActive }}</small>
                </div>
                {{ if not .Current }}
                <form action="/portal/devices/revoke/{{ .ID }}" method="POST" style="display:inline;">
                    <input type="hidden" name="csrf_token" value="{{ $.CSRFToken }}">
                    <button type="submit" class="btn btn-sm btn-danger">Log Out</button>
                </form>
                {{ end }}
            </div>
            {{ end }}
        </div>
        {{ else }}
        <p>No active sessions found.</p>
        {{ end }}
    </div>
</div>
{{ end }}
